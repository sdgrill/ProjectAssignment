<!DOCTYPE html>
<html>
<%- include ../partials/head %>

<body>
  <% include ../partials/navbar %>

  <div class="container">
    <h1>Users List</h1>

    <a class="my-3 btn btn-primary" href="/users/create">+ Create</a>

    <table id="userTable" class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Email</th>
          <th>Role</th>
          <th>Actions</th>
        </tr>
      </thead>
      <% for (let i = 0; i < userData.length; i++) { %>
      <tr>
        <td><%= userData[i].firstName %></td>
        <td><%=userData[i].lastName %></td>
        <td><%=userData[i].email %></td>
        <td><%=userData[i].role %></td>

        <td>
          <a href="/users/update?_id=<%=userData[i]._id%>">Edit</a> |
          <a href="/users/delete?_id=<%=userData[i]._id%>" onclick="return confirm('Are you sure you want to delete this?')">Delete</a>
        </td>
      </tr>
      <% } %>
    </table>
  </div>
  <% include ../partials/scripts %>

  <script>
    $(document).ready(function() {
      $('#userTable').DataTable({
        responsive: true
      });
    });
  </script>
</body>
</html>